---
Language:        Cpp
# BasedOnStyle:  WebKit

AccessModifierOffset: -4
AlignAfterOpenBracket: Align
AlignArrayOfStructures: Right

AlignConsecutiveAssignments:
  Enabled:         true
  AcrossEmptyLines: false
  AcrossComments:  true
  AlignCompound:   false
  AlignFunctionPointers: false
  PadOperators:    false

AlignConsecutiveBitFields:
  Enabled:         true
  AcrossEmptyLines: false
  AcrossComments:  true
  AlignCompound:   false
  AlignFunctionPointers: false
  PadOperators:    false

AlignConsecutiveDeclarations:
  Enabled:         false
  AcrossEmptyLines: false
  AcrossComments:  false
  AlignCompound:   false
  AlignFunctionPointers: false
  PadOperators:    false

AlignConsecutiveMacros:
  Enabled:         true
  AcrossEmptyLines: false
  AcrossComments:  true
  AlignCompound:   false
  AlignFunctionPointers: false
  PadOperators:    false

AlignConsecutiveShortCaseStatements:
  Enabled:         true
  AcrossEmptyLines: false
  AcrossComments:  true
  AlignCaseColons: false

AlignEscapedNewlines: Right
AlignOperands: AlignAfterOperator

AlignTrailingComments:
  Kind:            Always
  OverEmptyLines:  1

AllowAllArgumentsOnNextLine: false
AllowAllParametersOfDeclarationOnNextLine: false

# AllowBreakBeforeNoexceptSpecifier: Never # C++

AllowShortBlocksOnASingleLine: Empty
AllowShortCaseLabelsOnASingleLine: true

# AllowShortCompoundRequirementOnASingleLine: true # C++

AllowShortEnumsOnASingleLine: false
AllowShortFunctionsOnASingleLine: Empty
AllowShortIfStatementsOnASingleLine: Never

# AllowShortLambdasOnASingleLine: All # C++

AllowShortLoopsOnASingleLine: false

# AlwaysBreakAfterDefinitionReturnType: None # deprecated
# AlwaysBreakAfterReturnType: None # deprecated

AlwaysBreakBeforeMultilineStrings: false

AlwaysBreakTemplateDeclarations: MultiLine # TODO figure out
AttributeMacros:
  - __capability

BinPackArguments: false
BinPackParameters: false
BitFieldColonSpacing: Both

BraceWrapping:
  AfterCaseLabel:  false # C++
  AfterClass:      false # C++
  AfterControlStatement: Never
  AfterEnum:       false
  AfterExternBlock: false
  AfterFunction:   true
  AfterNamespace:  false
  AfterObjCDeclaration: false
  AfterStruct:     false
  AfterUnion:      false
  BeforeCatch:     false
  BeforeElse:      false
  BeforeLambdaBody: false
  BeforeWhile:     false
  IndentBraces:    false
  SplitEmptyFunction: true
  SplitEmptyRecord: true
  SplitEmptyNamespace: true

BreakAdjacentStringLiterals: true

# BreakAfterAttributes: Leave # C++
# BreakAfterJavaFieldAnnotations: false  # Java

BreakArrays: true
BreakBeforeBinaryOperators: All
BreakBeforeBraces: Linux

# BreakBeforeConceptDeclarations: Always # C++

BreakBeforeInlineASMColon: OnlyMultiline
BreakBeforeTernaryOperators: true

# BreakConstructorInitializers: BeforeComma # C++
# BreakInheritanceList: BeforeColon # C++

BreakStringLiterals: true
ColumnLimit: 100

CommentPragmas: '^ IWYU pragma:' # TODO

# CompactNamespaces: false # C++
# ConstructorInitializerIndentWidth: 4 # C++

ContinuationIndentWidth: 4 # TODO

# Cpp11BracedListStyle: false # C++

DerivePointerAlignment: false
DisableFormat: false

# EmptyLineAfterAccessModifier: Never # C++
# EmptyLineBeforeAccessModifier: LogicalBlock # C++

ExperimentalAutoDetectBinPacking: false

# FixNamespaceComments: false # C++

ForEachMacros: # TODO
  - foreach
  - Q_FOREACH
  - BOOST_FOREACH

IfMacros:
  - KJ_IF_MAYBE

# IncludeBlocks:   Preserve
# IncludeCategories:
#   - Regex:           '^"(llvm|llvm-c|clang|clang-c)/'
#     Priority:        2
#     SortPriority:    0
#     CaseSensitive:   false

# IncludeIsMainRegex: '(Test)?$'
# IncludeIsMainSourceRegex: ''
# IndentAccessModifiers: false # C++

IndentCaseBlocks: false
IndentCaseLabels: false

# IndentExternBlock: AfterExternBlock # C++

IndentGotoLabels: true
IndentPPDirectives: None

# IndentRequiresClause: true # C++

IndentWidth:     4
IndentWrappedFunctionNames: false

# NOTE: Possibly breaking
InsertBraces: true

InsertNewlineAtEOF: true

# InsertTrailingCommas: None # Javascript
# IntegerLiteralSeparator: # TODO
#   Binary:          0
#   BinaryMinDigits: 0
#   Decimal:         0
#   DecimalMinDigits: 0
#   Hex:             0
#   HexMinDigits:    0
# JavaScriptQuotes: Leave # Javascript
# JavaScriptWrapImports: true # Javascript

KeepEmptyLinesAtTheStartOfBlocks: true # deprecated
KeepEmptyLinesAtEOF: false # deprecated
# LambdaBodyIndentation: Signature # C++

LineEnding:      DeriveLF
MacroBlockBegin: ''
MacroBlockEnd:   ''

MaxEmptyLinesToKeep: 2

# NamespaceIndentation: Inner # C++
# ObjCBinPackProtocolList: Auto # Objective-C
# ObjCBlockIndentWidth: 4 # Objective-C
# ObjCBreakBeforeNestedBlockParam: true # Objective-C
# ObjCSpaceAfterProperty: true # Objective-C
# ObjCSpaceBeforeProtocolList: true # Objective-C

PPIndentWidth:   -1

# PackConstructorInitializers: BinPack # C++

# TODO: Refine penalties
PenaltyBreakAssignment: 4
PenaltyBreakBeforeFirstCallParameter: 19
PenaltyBreakComment: 300
PenaltyBreakFirstLessLess: 120
PenaltyBreakOpenParenthesis: 0
PenaltyBreakScopeResolution: 500
PenaltyBreakString: 1000
PenaltyBreakTemplateDeclaration: 10
PenaltyExcessCharacter: 1000000
PenaltyIndentedWhitespace: 0
PenaltyReturnTypeOnItsOwnLine: 60

PointerAlignment: Right
QualifierAlignment: Leave

# ReferenceAlignment: Pointer # C++

ReflowComments: true

RemoveBracesLLVM: false
RemoveParentheses: Leave
RemoveSemicolon: false

# RequiresClausePosition: OwnLine # C++
# RequiresExpressionIndentation: OuterScope # C++

SeparateDefinitionBlocks: Always

# ShortNamespaceLines: 1 # C++

SkipMacroDefinitionBody: false # TODO

SortIncludes:    false

# SortJavaStaticImport: Before # Java
# SortUsingDeclarations: LexicographicNumeric # C++

SpaceAfterCStyleCast: true
SpaceAfterLogicalNot: false

# SpaceAfterTemplateKeyword: true # C++

SpaceAroundPointerQualifiers: Default
SpaceBeforeAssignmentOperators: true
SpaceBeforeCaseColon: false

# SpaceBeforeCpp11BracedList: true # C++
# SpaceBeforeCtorInitializerColon: true # C++
# SpaceBeforeInheritanceColon: true # C++
# SpaceBeforeJsonColon: false # JSON

SpaceBeforeParens: ControlStatements
SpaceBeforeParensOptions:
  AfterControlStatements: true
  AfterForeachMacros: true
  AfterFunctionDefinitionName: false
  AfterFunctionDeclarationName: false
  AfterIfMacros:   true
  AfterOverloadedOperator: false # C++
  AfterPlacementOperator: true
  AfterRequiresInClause: false # C++
  AfterRequiresInExpression: false # C++
  BeforeNonEmptyParentheses: false

# SpaceBeforeRangeBasedForLoopColon: true # C++

SpaceBeforeSquareBrackets: false
SpaceInEmptyBlock: true
SpacesBeforeTrailingComments: 1

# SpacesInAngles:  Never # C++

# SpacesInContainerLiterals: true # C++

SpacesInLineCommentPrefix:
  Minimum:         1
  Maximum:         -1

SpacesInParens:  Never
SpacesInParensOptions:
  InCStyleCasts:   false
  InConditionalStatements: false
  InEmptyParentheses: false
  Other:           false

SpacesInSquareBrackets: false

# Untested BELOW
# Standard:        Latest # C++

# TODO: Update
StatementAttributeLikeMacros:
  - Q_EMIT
StatementMacros:
  - Q_UNUSED
  - QT_REQUIRE_VERSION

TabWidth:        8
UseTab:          Never

# VerilogBreakBetweenInstancePorts: true # Verilog

# TODO: Update
WhitespaceSensitiveMacros:
  - BOOST_PP_STRINGIZE
  - CF_SWIFT_NAME
  - NS_SWIFT_NAME
  - PP_STRINGIZE
  - STRINGIZE
...
